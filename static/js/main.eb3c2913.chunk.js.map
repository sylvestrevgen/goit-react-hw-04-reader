{"version":3,"sources":["components/Reader/Publication/publication.module.css","components/Reader/reader.module.css","components/Reader/Counter/counter.module.css","components/Reader/Publication/Publication.jsx","components/Reader/Counter/Counter.jsx","components/Reader/Controls/Controls.jsx","components/Reader/Reader.jsx","pages/ReaderPage.jsx","components/App/App.jsx","index.js","components/Reader/Controls/controls.module.css"],"names":["module","exports","Publication","item","title","text","className","styles","publication","header","content","Counter","index","sum","counter","Number","Controls","onControlPublication","prevDisabled","nextDisabled","controls","type","disabled","active","onClick","name","Reader","allPublicationLength","reader","ReaderPage","state","publicationIndex","updatePublicationIndex","nextItemIndex","setState","handleControlPublication","event","props","history","location","parseQueryStr","queryString","parse","search","target","push","pathname","this","replace","prevProps","prevItemIndex","publications","length","Component","App","app","path","component","to","ReactDOM","render","basename","document","getElementById"],"mappings":"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","file":"static/js/main.eb3c2913.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"publication\":\"publication_publication__2OtDm\",\"header\":\"publication_header__2qjim\",\"content\":\"publication_content__3cwru\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reader\":\"reader_reader__13_cI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"counter\":\"counter_counter__1u8ha\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './publication.module.css';\n\nconst Publication = ({ item: { title, text } }) => (\n  <article className={styles.publication}>\n    <h2 className={styles.header}>{title}</h2>\n    <p className={styles.content}>{text}</p>\n  </article>\n);\n\nPublication.propTypes = {\n  item: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    text: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default Publication;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './counter.module.css';\n\nconst Counter = ({ index, sum }) => (\n  <p className={styles.counter}>{`${Number(index) + 1}/${sum}`}</p>\n);\n\nCounter.propTypes = {\n  index: PropTypes.number.isRequired,\n  sum: PropTypes.number.isRequired,\n};\n\nexport default Counter;\n","import React from 'react';\n// import { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport styles from './controls.module.css';\n\nconst Controls = ({\n  onControlPublication,\n  index,\n  sum,\n  prevDisabled,\n  nextDisabled,\n}) => (\n  <section className={styles.controls}>\n    <button\n      type=\"button\"\n      className={index === 0 ? styles.disabled : styles.active}\n      disabled={prevDisabled}\n      onClick={onControlPublication}\n      name=\"prevPage\"\n    >\n      Назад\n    </button>\n    <button\n      type=\"button\"\n      className={sum - 1 === index ? styles.disabled : styles.active}\n      onClick={onControlPublication}\n      disabled={nextDisabled}\n      name=\"nextPage\"\n    >\n      Вперед\n    </button>\n  </section>\n);\n\nControls.propTypes = {\n  onControlPublication: PropTypes.func.isRequired,\n  index: PropTypes.number.isRequired,\n  sum: PropTypes.number.isRequired,\n  prevDisabled: PropTypes.bool.isRequired,\n  nextDisabled: PropTypes.bool.isRequired,\n};\n\nexport default Controls;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './reader.module.css';\nimport Publication from './Publication/Publication';\nimport Counter from './Counter/Counter';\nimport Controls from './Controls/Controls';\n\nconst Reader = ({\n  publication,\n  onControlPublication,\n  index,\n  allPublicationLength,\n}) => (\n  <div className={styles.reader}>\n    <Publication item={publication} />\n    <Counter index={index} sum={allPublicationLength} />\n    <Controls\n      onControlPublication={onControlPublication}\n      index={index}\n      sum={allPublicationLength}\n      prevDisabled={index === 0}\n      nextDisabled={allPublicationLength - 1 === index}\n    />\n  </div>\n);\n\nReader.propTypes = {\n  publication: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    text: PropTypes.string.isRequired,\n  }).isRequired,\n  onControlPublication: PropTypes.func.isRequired,\n  index: PropTypes.number.isRequired,\n  allPublicationLength: PropTypes.number.isRequired,\n};\n\nexport default Reader;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport queryString from 'query-string';\nimport publications from '../initialData/publications.json';\nimport Reader from '../components/Reader/Reader';\n\nexport default class ReaderPage extends Component {\n  state = {\n    publicationIndex: null,\n  };\n\n  componentDidMount() {\n    const { history, location } = this.props;\n\n    const parseQueryStr = queryString.parse(location.search).item;\n    if (!parseQueryStr) {\n      return history.replace({\n        pathname: '/reader',\n        search: 'item=1',\n      });\n    }\n\n    return this.setState({\n      publicationIndex: parseQueryStr - 1,\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    const { location } = this.props;\n    const prevItemIndex = queryString.parse(prevProps.location.search).item;\n    const nextItemIndex = queryString.parse(location.search).item;\n\n    if (prevItemIndex !== nextItemIndex) {\n      this.updatePublicationIndex(nextItemIndex);\n    }\n  }\n\n  updatePublicationIndex = nextItemIndex => {\n    this.setState({\n      publicationIndex: nextItemIndex - 1,\n    });\n  };\n\n  handleControlPublication = event => {\n    const { history, location } = this.props;\n    const parseQueryStr = queryString.parse(location.search).item;\n\n    if (event.target.name === 'prevPage') {\n      history.push({\n        pathname: '/reader',\n        search: `item=${Number(parseQueryStr) - 1}`,\n      });\n    } else {\n      history.push({\n        pathname: '/reader',\n        search: `item=${Number(parseQueryStr) + 1}`,\n      });\n    }\n  };\n\n  render() {\n    const { publicationIndex } = this.state;\n\n    if (publicationIndex !== null) {\n      return (\n        <Reader\n          publication={publications[publicationIndex]}\n          onControlPublication={this.handleControlPublication}\n          index={publicationIndex}\n          allPublicationLength={publications.length}\n        />\n      );\n    }\n\n    return null;\n  }\n}\n\nReaderPage.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n    replace: PropTypes.func.isRequired,\n  }).isRequired,\n  location: PropTypes.shape({\n    search: PropTypes.string.isRequired,\n  }).isRequired,\n};\n","import React from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport styles from './app.module.css';\nimport ReaderPage from '../../pages/ReaderPage';\n\nconst App = () => (\n  <div className={styles.app}>\n    <Switch>\n      <Route path=\"/reader\" component={ReaderPage} />\n      <Redirect to=\"/reader\" />\n    </Switch>\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './components/App/App';\n\nReactDOM.render(\n  <HashRouter basename=\"/\">\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"controls_controls__1VjK0\",\"button\":\"controls_button__2zQut\",\"active\":\"controls_active__9xqpM controls_button__2zQut\",\"disabled\":\"controls_disabled__Ykvqs controls_button__2zQut\"};"],"sourceRoot":""}